get-company-stock-details=select c.name, c.symbol, st.stock_price as last_updated_price from company c, (select s.symbol, s.time, s.stock_price from stock_history s inner join (select symbol, max(time) as MaxDate from stock_history group by symbol) sm on s.symbol = sm.symbol and s.time = sm.MaxDate) st where c.symbol = st.symbol
company-history=from StockDetailsDTO where symbol =:symbol